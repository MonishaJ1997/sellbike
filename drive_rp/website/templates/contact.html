{% extends "base.html" %}
{% load static %}
{% block content %}

<style>
.contact-section {
    display: flex;
    gap: 30px;
    padding: 40px;
    align-items: flex-start;
}

h2 {
    text-align: center;
    color: #004b63;
    margin-bottom: 20px;
}

/* Left Form */
.contact-form {
    flex: 1;
}

.contact-form form {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.contact-form input,
.contact-form select,
.contact-form textarea {
    padding: 12px;
    border: 1px solid #000;
    border-radius: 8px;
    font-size: 16px;
    width: 100%;
}
.contact-form select{
    padding: 12px;
    border: 1px solid #000;
    border-radius: 8px;
    font-size: 16px;
    width: 100%;
    background-color: gainsboro;
}
.contact-form button {
    background: #07435c;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    width: 50%;
}

.contact-form button:hover {
    background: #036b8f;
}

/* Right Side */
.contact-map {
    flex: 1;
}

.map-img {
    width: 100%;
    height: 300px;
    border-radius: 12px;
    object-fit: cover;
}

.contact-info {
    margin-top: 20px;
    font-size: 16px;
}

.contact-info p {
    margin: 8px 0;
}

.errorlist {
    color: red;
    font-size: 14px;
    margin: 0;
}

/* ------------- MOBILE: ‚â§767px ------------- */
@media (max-width: 767px) {
  .contact-section {
    flex-direction: column;
    padding: 20px;
  }

  .contact-form,
  .contact-map {
    width: 100%;
  }

  .contact-form button {
    width: 100%;
  }

  .map-img {
    height: 200px;
  }

  .contact-info {
    font-size: 15px;
  }
}

/* ------------- TABLET: 768px‚Äì1023px ------------- */
@media (min-width: 768px) and (max-width: 1023px) {
  .contact-section {
    flex-direction: column;
    padding: 30px;
  }

  .contact-form,
  .contact-map {
    width: 100%;
  }

  .contact-form button {
    width: 60%;
  }

  .map-img {
    height: 250px;
  }

  .contact-info {
    font-size: 16px;
  }
}

</style>

<h2>Contact Us</h2>

<div class="contact-section">
    <!-- Left Form -->
    <div class="contact-form">
        <form method="post" novalidate>
            {% csrf_token %}
            {{ form.non_field_errors }}

            <div>
                {{ form.name }}
                {{ form.name.errors }}
            </div>

            <div>
                {{ form.email }}
                {{ form.email.errors }}
            </div>

            <div>
                {{ form.phone }}
                {{ form.phone.errors }}
            </div>

            <div>
                {{ form.reason }}
                {{ form.reason.errors }}
            </div>

            <div>
                {{ form.source }}
                {{ form.source.errors }}
            </div>

            <div>
                {{ form.message }}
                {{ form.message.errors }}
            </div>

            <button type="submit">Send Message</button>
        </form>
    </div>

    <!-- Right Map + Info -->
    <div class="contact-map">
        {% if map_info %}
            <img src="{{ map_info.map_image.url }}" alt="Map" class="map-img">
            <div class="contact-info">
                <p><b>Address:</b><br>{{ map_info.address }}</p>
                {% if map_info.website %}
                    <p><b>üåê</b> {{ map_info.website }}</p>
                {% endif %}
                {% if map_info.phone %}
                    <p><b>üìû</b> {{ map_info.phone }}</p>
                {% endif %}
            </div>
        {% endif %}
    </div>
</div>

{% if messages %}
    <div>
        {% for message in messages %}
            <p style="color: green; font-weight: bold;">{{ message }}</p>
        {% endfor %}
    </div>
{% endif %}

{% endblock %}