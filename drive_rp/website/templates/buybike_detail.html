
{% extends "base.html" %}
{% load static %}

{% block content %}







<style>
    .buybike-container {
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start;
      gap: 20px;
      margin-top: 20px;
    }
  
    .buybike-left {
      flex: 1 1 50%;
      text-align: center;
    }
  
    .buybike-left img {
      width: 100%;
      max-width: 550px;
      border-radius: 20px;
      object-fit: cover;
    }
  
    .buybike-right {
      flex: 1 1 45%;
      padding: 15px;
      border: 1px solid black;
      border-radius: 10px;
    }
  
    .buybike-right h3 {
      font-weight: bold;
      color: #07435c;
    }
  
    .btn-test {
      background: linear-gradient(to right, #00bfff, #006080);
      color: white;
      font-weight: 600;
      padding: 12px;
      border-radius: 12px;
      border: none;
      width: 100%;
      margin-top: 15px;
    }
  
    .btn-buy {
      background: linear-gradient(to right, #004466, #003344);
      color: white;
      font-weight: 600;
      padding: 14px;
      border-radius: 20px;
      border: none;
      width: 50%;
      display: block;
      margin-top: 25px;
      margin: 10px auto;
    }


    .overview-card {
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 20px;
  background: #fff;
  margin: 20px auto;
  max-width: 1000px;
}

.overview-card h3 {
  font-weight: bold;
  margin-bottom: 20px;
}

.overview-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
}

.overview-col {
  padding: 10px;
}

.overview-col p {
  display: flex;
  justify-content: space-between;
  border-bottom: 1px solid #ccc;
  padding: 5px 0;
  font-size: 15px;
}

.overview-col span {
  color: #004d66;
  font-weight: bold;
}

.grey-box {
  background: #e0e0e0;
  border-radius: 10px;
}


@media (max-width: 767px) {
  .overview-grid {
    grid-template-columns: 1fr; 
  }

  .overview-col p {
    font-size: 14px;
  }
}


@media (min-width: 768px) and (max-width: 1024px) {
  .overview-grid {
    grid-template-columns: repeat(2, 1fr); /* two columns */
  }
}

.steps-container {
  text-align: center;
  margin: 40px auto;
  max-width: 1200px;
}

.steps-container h2 {
  font-size: 22px;
  font-weight: bold;
  margin-bottom: 30px;
}

.steps-grid {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap:nowrap;
  gap: 20px;
}

.step {
  flex: 1 1 250px;
  text-align: center;
}
.step-img {
  width: 180px;   /* fixed width */
  height: 180px;  /* fixed height */
  margin: 0 auto 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f8f8f8;   /* light background */
  border-radius: 10px;
  overflow: hidden;
}

.step-img img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain; /* keeps proportions */
}


.step p {
  font-weight: bold;
  font-size: 20px;
}

.arrow {
  font-size: 40px;
  font-weight: bold;
  color: black;
}


@media (max-width: 767px) {
  .steps-grid {
    flex-direction: column;
  }

  .arrow {
    transform: rotate(90deg); /* arrow becomes vertical */
  }
}


@media (min-width: 768px) and (max-width: 1024px) {
  .step img {
    width: 140px;
  }
}

.spec-card {
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 20px;
  background: #fff;
  max-width: 1200px;
  margin: 20px auto;
}

.spec-card h4 {
  font-weight: bold;
  margin-bottom: 20px;
}

.spec-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr); /* 7 items in first row */
  gap: 20px 40px;
}

.spec-grid div:nth-child(n+8) {
  grid-column: span 1; /* next 3 items will wrap to new row automatically */
}

/* Make responsive for tablets and mobiles */
@media (max-width: 1024px) {
  .spec-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

@media (max-width: 768px) {
  .spec-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.spec-grid div {
  font-size: 17px;
}

.spec-grid strong {
  display: block;
  font-weight: 600;
  margin-bottom: 5px;
}

.spec-grid span {
  color: #0a4a63; /* blue like screenshot */
  font-weight: 500;
}


  </style>
  
  <div class="buybike-container">
    
    <!-- Left Image -->
    <div class="buybike-left">
      <img src="{{ cards.image.url }}" alt="{{ Bike.image }}">
    </div>
   <div class="row justify-content-center g-2">
    {% for img in cards.additional_images.all|slice:":5" %}
    <div class="col-auto">
      <img src="{{ img.image.url }}" alt="{{ cards.name }} image"
           class="img-thumbnail rounded shadow-sm"
           style="width:120px; height:120px; object-fit:cover; cursor:pointer;">
    </div>
    {% endfor %}
  </div>

    <!-- Right Content -->
    <div class="buybike-right">
      <h3>{{ cards.year }} | {{ cards.name }}</h3>
      <p><strong>{{ cards.kilometers }}Km · {{ cards.owner }}</strong></p>
  
      <!-- Black Location Icon -->
      <p>
        <i class="bi bi-geo-alt-fill" style="font-size:22px; color:black;"></i>
        <span style="text-decoration: underline; font-weight: 600;">{{ cards.location }}</span>
      </p>
  
      <button class="btn-test" style="color: black; font-size: 20px;">Book Test Ride<br>
      <small>(₹1000/- Refundable for Next Three Days)</small></button>
  
      <p class="mt-3 fw-bold fs-5">Interested in Buying this Bike ?</p>
      <button class="btn-buy" onclick="window.location.href='{% url 'payment_page' %}'">
        Buy Now
      </button>
      

      
    </div>
  </div>
  



  <div class="overview-card">
    <h3>Bike OverView</h3>
    <div class="overview-grid">
  
      <div class="overview-col grey-box">
        <p><strong>Bike Brand</strong> <span>{{ bike.brand }}</span></p>
        <p><strong>Bike Model</strong> <span>{{ bike.model }}</span></p>
        <p><strong>Bike Variant</strong> <span>{{ bike.variant }}</span></p>
        <p><strong>Make Year</strong> <span>{{ bike.make_year }}</span></p>
      </div>
  
      <div class="overview-col">
        <p><strong>Refurbished</strong> <span>{{ bike.refurbished }}</span></p>
        <p><strong>RTO State</strong> <span>{{ bike.rto_state }}</span></p>
        <p><strong>RTO City</strong> <span>{{ bike.rto_city }}</span></p>
        <p><strong>Registration Year</strong> <span>{{ bike.registration_year|default:"-" }}</span></p>
      </div>
  
      <div class="overview-col">
        <p><strong>Kilometers</strong> <span>{{ bike.kilometers }}</span></p>
        <p><strong>Owners</strong> <span>{{ bike.owners }}</span></p>
        <p><strong>Transmission</strong> <span>{{ bike.transmission }}</span></p>
        <p><strong>Fuel Type</strong> <span>{{ bike.fuel_type }}</span></p>
      </div>
  
      <div class="overview-col">
        <p><strong>Registration Certificate</strong> <span>{{ bike.registration_certificate }}</span></p>
        <p><strong>Finance</strong> <span>{{ bike.finance }}</span></p>
        <p><strong>Insurance</strong> <span>{{ bike.insurance }}</span></p>
        <p><strong>Warranty</strong> <span>{{ bike.warranty }}</span></p>
      </div>
  
    </div>
  </div>
  


  <div class="steps-container">
    <h2>Book This Bike in 3 Easy Steps</h2>
    <div class="steps-grid">
      {% for step in steps %}
        <div class="step">
          <img src="{{ step.image.url }}" alt="{{ step.title }}">
          <p>{{ step.title }}</p>
        </div>
        {% if not forloop.last %}
          <div class="arrow">➝</div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
  


  <div class="spec-card">
    <h4>Bike Specification</h4>
    <div class="spec-grid">
      <div><strong>Type</strong><br><span>{{ spec.type }}</span></div>
      <div><strong>Color</strong><br><span>{{ spec.color }}</span></div>
      <div><strong>Fuel Type</strong><br><span>{{ spec.fuel_type }}</span></div>
      <div><strong>Ignition Type</strong><br><span>{{ spec.ignition_type }}</span></div>
      <div><strong>Transmission Type</strong><br><span>{{ spec.transmission_type }}</span></div>
      <div><strong>Front Brake Type</strong><br><span>{{ spec.front_brake_type }}</span></div>
      <div><strong>Rear Brake Type</strong><br><span>{{ spec.rear_brake_type }}</span></div>
      <div><strong>ABS</strong><br><span>{{ spec.abs }}</span></div>
      <div><strong>Odometer</strong><br><span>{{ spec.odometer }}</span></div>
      <div><strong>Wheeltype</strong><br><span>{{ spec.wheel_type }}</span></div>
    </div>
  </div>
  

  {% endblock %}